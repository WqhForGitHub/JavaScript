

+ 闭包：当函数可以记住并访问所在的词法作用域时，就产生了闭包，即使函数是在当前词法作用域之外执行。

```javascript
function foo() {
  var a = 2;

  function bar() {
    console.log(a); // 2
  }

  bar();
}
```

```javascript
function foo() {
  var a = 2;

  function bar() {
    console.log(a);
  }

  return bar;
}

var baz = foo();

baz(); // 2
```

+ 闭包的例子

```javascript
function wait(message) {
  setTimeout(function timer() {
    console.log(message);
  }, 1000);
}

wait("Hello, closure!");
```



+ 循环和闭包

```javascript
for(var i = 1; i <= 5; i++) {
  setTimeout(function timer() {
    console.log(i);
  }, i * 1000);
} // 6 6 6 6 6 
```



```javascript
for(var i = 1; i <=5; i++) {
  (function(j) {
    setTimeout(function timer() {
      console.log(j);
    }, j * 1000);
  })(i);
} 
// 1 2 3 4 5 
```



```javascript
for(let i = 1; i <= 5; i++) {
  setTimeout(function timer() {
    console.log(i);
  }, i * 1000);
}
// 1 2 3 4 5
```



<h1 id="HeTUY"></h1>
