<h2 id="c6ncJ">第3章：函数作用域和块作用域</h2>
+ 函数作用域

```javascript
var a = 2;


function foo() {
  var a = 3;
  
  console.log(a); // 3
}

foo();

console.log(a); // 2
```



1. 不需要函数名，并且能够自动运行，这将会更加理想。

```javascript
var a = 2;

(function foo() {
  var a = 3;
  console.log(a); // 3
})();

console.log(a); // 2
```

 

2. 匿名和具名

```javascript
setTimeout(function() {
  console.log("I waited 1 second!");
}, 1000);

setTimeout(function timeoutHandler() {
  console.log("I waited 1 second!");
}, 1000);
```



3. 立即执行函数表达式

```javascript
var a = 2;

(function foo() {
  var a = 3;
  console.log(a); // 3
})();

console.log(a); // 2
```

另外一种形式

```javascript
var a = 2;
(function foo(){
  var a = 3;
  console.log(a); // 3
}());

console.log(a); // 2
```

把它们当作函数调用并传递参数进去

```javascript
var a = 2;

(function IIFE(global) {
  var a = 3;
  console.log(a); // 3
  console.log(global.a); // 2
})(window);

console.log(a); // 2
```

倒置代码的运行顺序，将需要运行的函数放在第二位

```javascript
var a = 2;

(function IIFE(def) {
  def(window);
})(function def(global) {
  var a = 3;
  console.log(a); // 3
  console.log(global.a); // 2
})
```



+ 块作用域：with， try/catch 中的 catch，let，const

```javascript
try {
  undefined();
} catch (err) {
  console.log(err);
}

console.log(err); // ReferenceError: err not found
```







<h2 id="FCqwV"></h2>


